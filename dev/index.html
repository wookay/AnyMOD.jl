<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · AnyMOD.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="AnyMOD.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">AnyMOD.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Introduction</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li class="toplevel"><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li></ul></li><li><span class="tocitem">Model Elements</span><ul><li><a class="tocitem" href="model_object/">Model object</a></li><li><a class="tocitem" href="sets/">Sets and Mappings</a></li><li><a class="tocitem" href="parts/">Parts</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Parameter</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="parameter_overview/">Parameter overview</a></li><li><a class="tocitem" href="parameter_list/">Parameter list</a></li></ul></li><li><a class="tocitem" href="variables/">Variables</a></li><li><a class="tocitem" href="constraints/">Constraints</a></li></ul></li><li><span class="tocitem">Tools</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Reporting</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="error/">Error handling</a></li><li><a class="tocitem" href="data/">Data files</a></li><li><a class="tocitem" href="plots/">Plots</a></li></ul></li><li><a class="tocitem" href="performance/">Performance and stability</a></li></ul></li><li><span class="tocitem">Annex</span><ul><li><a class="tocitem" href="tips/">Tips</a></li><li><a class="tocitem" href="api/">API</a></li><li><a class="tocitem" href="related/">Related material</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/leonardgoeke/AnyMOD.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="AnyMOD"><a class="docs-heading-anchor" href="#AnyMOD">AnyMOD</a><a id="AnyMOD-1"></a><a class="docs-heading-anchor-permalink" href="#AnyMOD" title="Permalink"></a></h1><p><a href="https://github.com/leonardgoeke/AnyMOD.jl">AnyMOD.jl</a> is a <a href="https://julialang.org/">Julia</a> framework to create large scale energy system models with multiple periods of capacity expansion formulated as linear optimization problems. It was developed to address the challenges in modelling high-levels of intermittent generation and sectoral integration.</p><p>A comprehensive description of the framework&#39;s graph based methodology can found in the working paper <a href="https://arxiv.org/abs/2004.10184">Göke (2020), AnyMOD - A graph-based framework for energy system modelling with high levels of renewables and sector integration</a>. Its key characteristic is that all sets (time-steps, regions, energy carriers, and technologies) are organized within a hierarchical tree structure. This allows for two unique features:</p><ul><li>The level of temporal and spatial granularity can be varied by energy carrier. For instance, electricity can be modelled with hourly resolution, while supply and demand of gas is balanced daily. As a result, a substantial decrease of computational effort can be achieved. In addition, flexibility inherent to the system, for example in the gas network, can be accounted for.</li><li>The degree to which energy carriers are substitutable when converted, stored, transported, or consumed can be modelled. As an example, residential and district heat can both equally satisfy heat demand, but technologies to produce these carriers are different.</li></ul><p>The framework uses <a href="https://juliadata.github.io/DataFrames.jl/stable/">DataFrames</a> to store model elements and relies on <a href="https://github.com/JuliaOpt/JuMP.jl">JuMP</a> as a back-end. In addition, Julia&#39;s multi-threading capabilities are heavily deployed to increase performance. Since models entirely consist of .csv files, they can be developed open and collaboratively using version control (see <a href="related/#Model-repositories">Model repositories</a> for examples).</p><h1 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h1><p>The current version of <a href="https://github.com/leonardgoeke/AnyMOD.jl">AnyMOD</a> was developed for <a href="https://julialang.org/downloads/oldreleases/">Julia 1.3.1</a>. AnyMOD is installed by switching into Julia&#39;s package mode by typing <code>]</code> into the console and then execute <code>add AnyMOD</code>.</p><h1 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h1><p>To introduce the packages’ workflow and core functions, a small-scale example model is created, solved and analyzed. The files of this model can either be found in the installation directory of the package (<code>user/.julia/packages/AnyMOD/.../examples</code>) or manually loaded from the <a href="https://github.com/leonardgoeke/AnyMOD.jl/tree/master/examples/demo">GitHub repository</a>.</p><p>Before we can start working with AnyMOD, it needs to be imported via the <code>using</code> command. Afterwards, the function <code>anyModel</code> constructs an AnyMOD model object by reading in the <code>.csv</code> files found within the directory specified by the first argument. The second argument specifies a directory all model outputs are written to. Furthermore, default model options can be overwritten via optional arguments. In this case, the optional argument <code>objName</code> is used to name the model &quot;demo&quot;. This name will appear during reporting and added to each output file. The optional argument <code>shortExp</code> defines the span of year between different time-steps of capacity expansion.</p><pre><code class="language-julia">using AnyMOD
anyM = anyModel(&quot;../demo&quot;,&quot;results&quot;, objName = &quot;demo&quot;, shortExp = 10)</code></pre><p>During the construction process, all input files are read-in and checked for errors. Afterwards sets are mapped to each other and parameter data is assigned to the different model parts. During the whole process status updates are printed to the console and comprehensive reports are written to a dedicated <code>.csv</code> file. Since after construction, all qualitative model information, meaning all sets and their interrelations, is written, several graphs describing a models´ structure can be plotted.</p><pre><code class="language-julia">plotTree(:region,anyM)
plotTree(:carrier,anyM)
plotTree(:tech,anyM, plotSize = (28.0,5.0))
plotEnergyFlow(:graph,anyM)</code></pre><p>All of these plots will be written to the specified results folder. The first three graphs plotted by <code>plotTree</code> show the rooted tree defining the sets of regions, carriers, and technologies, respectively. As an example, the rooted tree for carriers is displayed below.</p><p><img src="assets/carrier.png" alt/></p><p>The fourth graph created by using <code>plotEnergyFlow</code> with keyword <code>:graph</code> gives a qualitative overview of all energy flows within a model. Nodes either correspond to technologies (grey dots) or energy carriers (colored squares). Edges between technology and energy carrier nodes indicate the carrier is either an input (entering edge) or an output (leaving edge) of the respective technology. Edges between carriers indicate the same relationships as displayed in the tree above.</p><p><img src="assets/energyFlowGraph.png" alt/></p><p>To create the variables and constraints of the model&#39;s underlying optimization problem, the model object is passed to the <code>createOptModel!</code> function. Afterwards, the <code>setObjective!</code> function is used to set the objective function for optimizing. The function requires a keyword input to indicate what is optimized, but so far only <code>:costs</code> has been implemented. Again, updates and reports are written to the console and to a dedicated reporting file.</p><pre><code class="language-julia">createOptModel!(anyM)
setObjective!(:costs,anyM)</code></pre><p>To actually solve the created optimization problem, the field of the model structure containing the corresponding JuMP object is passed to the functions of the <a href="https://github.com/JuliaOpt/JuMP.jl">JuMP</a> package used for this purpose. The JuMP package itself is part of AnyMOD’s dependencies and therefore does not have to be added separately, but the solver does. In this case we used Gurobi, but CPLEX or a non-commercial solver could have been used as well.</p><pre><code class="language-julia">using Gurobi
set_optimizer(anyM.optModel,Gurobi.Optimizer)
optimize!(anyM.optModel)</code></pre><p>Once a model is solved, results can be obtained and analyzed by the following functions:</p><pre><code class="language-julia">reportResults(:summary,anyM)
reportTimeSeries(:electricity, anyM)
plotEnergyFlow(:sankey,anyM)</code></pre><p>Depending on the keyword provided, <code>reportResults</code> writes aggregated results to a csv file. <code>:summary</code> gives an overview of installed capacities and yearly use and generation of energy carriers. Other keywords available are <code>:costs</code> and <code>:exchange</code>. <code>reportTimeSeries</code> will write the energy balance and the value of each term within the energy balance of the carrier provided as a keyword. Finally, <code>plotEnergyFlow</code> used with the keyword <code>:sankey</code> creates a sankey diagram that visualizes the quantitative energy flows in the solved model.</p><p><img src="assets/sankey.png" alt/></p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="model_object/">Model object »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 3 August 2020 20:38">Monday 3 August 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
